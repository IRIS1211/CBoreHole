<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>&#x202A;CBoreHole: &#x202A;D:/Code/Vision/Camera/Project/CBoreHole/Code/src/WorkWindow.cc 源文件</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Panorama32.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">&#x202A;CBoreHole
   &#160;<span id="projectnumber">1.4.3</span>
   </div>
   <div id="projectbrief">&#x202A;测孔图片拼接全景显示系统</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'搜索');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d3f/a00173_source.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">WorkWindow.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/d3f/a00173.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;../stdafx.h&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// 引入 自定义头文件</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;../inc/WorkWindow.h&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// #include &quot;../ui/ui_workwindow.h&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#ae75fa8506f277a4bfd16ecf6854faa10">   17</a></span>&#160;<a class="code" href="../../da/d73/a01090.html#ae75fa8506f277a4bfd16ecf6854faa10">&#x202A;WorkWindow::WorkWindow</a>(QWidget *parent) :</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    QMainWindow(parent),</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    ui(new <a class="code" href="../../d0/dc3/a00354.html">&#x202A;Ui</a>::<a class="code" href="../../da/d73/a01090.html">&#x202A;WorkWindow</a>)</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="comment">// 设置 控制UI 其余部分  放到初始化程序中</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ae99e1d373bc2aca03cb84d59af908645">&#x202A;setupUi</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="comment">// 设置快捷键 开始拼接部分</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a23fc25c32e1122f228abb5af184fba94">&#x202A;btn_startWork</a>-&gt;setShortcut(tr(<span class="stringliteral">&quot;ctrl+return&quot;</span>));</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    connect(&amp;<a class="code" href="../../da/d73/a01090.html#a0152db70679b15edaae5b26153891261">&#x202A;m_timer_</a>, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#a1e0da08d59ee5e0646726394741121ed">&#x202A;WorkWindow::HandleTimeOut</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;   <span class="comment">//  timer_-&gt;start(1000);</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">//m_thread_serial_ = new QThread();</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="comment">//m_serial_ = new Serial();</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">//connect(m_thread_serial_, &amp;QThread::started, m_serial_, &amp;Serial::Init, Qt::QueuedConnection);</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="comment">//connect(m_thread_serial_, &amp;QThread::finished, m_serial_, &amp;Serial::HandleCloseSerial, Qt::QueuedConnection);</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">//m_thread_serial_-&gt;start(QThread::HighPriority);</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="comment">//m_serial_-&gt;moveToThread(m_thread_serial_);</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="comment">//m_serial_-&gt;serial_-&gt;moveToThread(m_thread_serial_);</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">//  serial_-&gt;p</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a98cc99469cf7af144c013870cd2a31e1">   53</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a98cc99469cf7af144c013870cd2a31e1">&#x202A;WorkWindow::Init</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// 初始化需要进行初始化的部分功能</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// gConfig = new Config();</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a998187f8036d589e67b63a8ed437f9dc">&#x202A;paraInit</a>();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a5ae6f45b6b134db391e806306eba0711">&#x202A;UpdateUI</a>();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// 列出所有 相机</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../da/d73/a01090.html#af8070ab23e5e272a896848b4bab67c88">&#x202A;showAllCamera</a>();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">//  开启相机进程 打开相机并进行管理</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a> = <span class="keyword">new</span> <a class="code" href="../../da/dd8/a00906.html">&#x202A;CamCapture</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>-&gt;<a class="code" href="../../da/dd8/a00906.html#a6f0ea79714ca60cd2f4c6c6d83300117">&#x202A;init</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// 创建 处理线程 并 独立运行</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">//  空参数 建立线程,等待后续初始化参数之后执行 </span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a> = <span class="keyword">new</span> <a class="code" href="../../d4/d12/a00910.html">&#x202A;CamProc</a>(<span class="keyword">this</span>);  <span class="comment">// 开始 建立线程进行运行</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a4fd7a30375554ef9df2ef322db87c32d">&#x202A;Init</a>();  <span class="comment">// 处理进程初始化</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// 开启新线程, 连接 开启线程与串口初始化函数</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;serial_thread_</a> = <span class="keyword">new</span> QThread(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    QObject::connect(<a class="code" href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;serial_thread_</a>, &amp;QThread::started, <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a9fd9311632f2f18c501344c32a758f6a">&#x202A;ser_proc_</a>-&gt;<a class="code" href="../../de/d41/a01030.html#a007a19e6aa2f66cfd83c60eaa95c145d">&#x202A;m_serial_</a>, &amp;<a class="code" href="../../d9/d9a/a00998.html#ad1a697720cbc1f1022a4f620d8fd8de2">&#x202A;Serial::Init</a>, Qt::QueuedConnection);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// QObject::connect(serial_thread_, &amp;QThread::finished, tCamProc-&gt;ser_proc_-&gt;m_serial_, &amp;Serial::HandleCloseSerial, Qt::QueuedConnection);</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// QObject::connect(serial_thread_, &amp;QThread::finished, tCamProc-&gt;ser_proc_-&gt;m_serial_, &amp;Serial::HandleCloseSerial, Qt::QueuedConnection);</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a4b3c834d510144adafcb21791be6c86f">&#x202A;setConnect</a>(); <span class="comment">// 设定连接</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// 初始化 自动绘图 程序</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">// realtimePlotInit(ui-&gt;wg_plot);</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// 记录位置信息</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// ui-&gt;lb_loc-&gt;setText(QString::number(gConfig-&gt;sysPara.Hole.nHoleBeginDepth));</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// RenderLabelNumber(ui-&gt;lb_loc, gConfig-&gt;sysPara.Hole.nHoleBeginDepth);</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// log ID</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// LDebug(&quot;GUI ThreadID is {}&quot;, QStringLiteral(&quot;@0x%1&quot;).arg(quintptr(QThread::currentThreadId()), 16, 16, QLatin1Char(&#39;0&#39;)).toStdString());</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// 建立相应 事件的连接 测试按钮部分</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// connect(ui-&gt;pushButton,SIGNAL(clicked()),this,SLOT(on_pushButton_clicked()));</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// connect(ui-&gt;btntestControl,SIGNAL(clicked()),this,SLOT(on_btntestControl_clicked()));</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a515597635c3e6dde97da88ba7887f0fa">&#x202A;m_writer_</a> = <span class="keyword">new</span> <a class="code" href="../../dd/df1/a01082.html">&#x202A;WriteVideo</a>();   <span class="comment">// 初始建立文件</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a1e0da08d59ee5e0646726394741121ed">   98</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#a1e0da08d59ee5e0646726394741121ed">&#x202A;WorkWindow::HandleTimeOut</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// 到了设定时间 就会执行程序</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    LDebug(<span class="stringliteral">&quot;Test Debug Time Out&quot;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// emit signal_time_out();</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a0e99dde5e6e49f134243fbad6ded3a04">  113</a></span>&#160;<a class="code" href="../../da/d73/a01090.html#a0e99dde5e6e49f134243fbad6ded3a04">&#x202A;WorkWindow::~WorkWindow</a>()</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// 关闭串口线程</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// tCamProc-&gt;ser_proc_-&gt;serPort-&gt;CloseListenTread();</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// 关闭相应进行</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="../../da/d45/a00011.html#a26dca4d5b5d146ab29a61dbd9876603d">&#x202A;releaseThread</a>(<a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="../../da/d45/a00011.html#a26dca4d5b5d146ab29a61dbd9876603d">&#x202A;releaseThread</a>(<a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    _CrtDumpMemoryLeaks();  <span class="comment">// NOTE: 在此处调用之前 进行检测内存泄漏</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// 关闭界面</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// delete ui;</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;}</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a14b0195c53ce8e76e00f73526cd1fbb5">  137</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a14b0195c53ce8e76e00f73526cd1fbb5">&#x202A;WorkWindow::tableViewInit</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;{</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a2d769fecaec29e242729466c7248aa50">&#x202A;tableview_model</a> = <span class="keyword">new</span> QStandardItemModel();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    QStringList labels ={<span class="stringliteral">&quot;Height&quot;</span>,<span class="stringliteral">&quot;Angle&quot;</span>,<span class="stringliteral">&quot;Dir&quot;</span>};</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a2d769fecaec29e242729466c7248aa50">&#x202A;tableview_model</a>-&gt;setHorizontalHeaderLabels(labels);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// 初始化参数 随机</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a2d769fecaec29e242729466c7248aa50">&#x202A;tableview_model</a>-&gt;setItem(0, 0, <span class="keyword">new</span> QStandardItem(<span class="stringliteral">&quot;270.1&quot;</span>));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a2d769fecaec29e242729466c7248aa50">&#x202A;tableview_model</a>-&gt;setItem(0, 1, <span class="keyword">new</span> QStandardItem(<span class="stringliteral">&quot;355.00&quot;</span>));</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a2d769fecaec29e242729466c7248aa50">&#x202A;tableview_model</a>-&gt;setItem(0, 2, <span class="keyword">new</span> QStandardItem(<span class="stringliteral">&quot;South&quot;</span>));</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// ui-&gt;tableView-&gt;setModel(tableview_model);</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;}</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#ad9b744cfdd0514de80888b646ff9adda">  166</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#ad9b744cfdd0514de80888b646ff9adda">&#x202A;WorkWindow::tableViewChange</a>(<span class="keyword">const</span> std::vector&lt;QString&gt;&amp; vecQ)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;{</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">//  将列表项依次设置</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; vecQ.size(); i++)</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a2d769fecaec29e242729466c7248aa50">&#x202A;tableview_model</a>-&gt;setItem(0, static_cast&lt;int&gt;(i), <span class="keyword">new</span> QStandardItem(vecQ[i]));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a52d40b7c7a475ee6210b2fee90938bea">  187</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a52d40b7c7a475ee6210b2fee90938bea">&#x202A;WorkWindow::testFunction</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    cv::Mat img_src = <a class="code" href="../../da/d45/a00011.html#a2d398856982f7220ada054e107a974e2">&#x202A;readImage</a>();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="comment">// ShowImage(img_src, ui-&gt;lb_src);</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    cv::circle(img_src, cv::Point(540, 540), 102, cv::Scalar(0, 0, 255), 2, 8, 0);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    cv::circle(img_src, cv::Point(540, 540), 530, cv::Scalar(0, 0, 255), 2, 8, 0);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="comment">// 此处进行图像的展开</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    cv::Mat img_polar;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    cv::remap(img_src, img_polar, <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a0f65990c3163a707a878c38a91b145a8">&#x202A;polar_map_xx_</a>, <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a0a63cee8f75f722259a3bd4d54eed9bc">&#x202A;polar_map_yy_</a>, CV_INTER_LINEAR, cv::BORDER_CONSTANT, cv::Scalar(255, 0, 0));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// gQ_Img_Proced.push(img_polar);</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// 对展开图像进行匹配 拼接以及展示操作</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// ShowImage(img_polar, ui-&gt;lb_dst);</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a8b11c4675ef63964c4dda797f22d6848">  219</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a8b11c4675ef63964c4dda797f22d6848">&#x202A;WorkWindow::testWrite</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">// 抓取目前的显示  生成随机文件名存储</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    QPixmap::grabWindow(this-&gt;winId(), 0, 0, -1, -1).save(QString::fromStdString(<span class="stringliteral">&quot;./Media/video/tmp/cur&quot;</span> + to_string(rand()%100) + <span class="stringliteral">&quot;.png&quot;</span>));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#af8070ab23e5e272a896848b4bab67c88">  237</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#af8070ab23e5e272a896848b4bab67c88">&#x202A;WorkWindow::showAllCamera</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;{</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// 列出设备连接的所有相机 // 限定最多显示 三个相机</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    QList&lt;QCameraInfo&gt; cameras = QCameraInfo::availableCameras();</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cameras.count() &amp;&amp; i &lt; 3; i++)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordtype">string</span> str = cameras[i].description().toStdString ();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        LDebug(<span class="stringliteral">&quot;Camera: {0}&quot;</span>, str);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#adf9602ed0c9f0a7c0441c51071ef390a">  266</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#adf9602ed0c9f0a7c0441c51071ef390a">&#x202A;WorkWindow::reuseBtnText</a>(QPushButton *btn, <span class="keywordtype">bool</span> &amp;flg, <span class="keyword">const</span> <span class="keywordtype">char</span> * pStr, <span class="keyword">const</span> <span class="keywordtype">char</span> * nStr)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keywordflow">if</span> (flg)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        btn-&gt;setText(tr(nStr));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        btn-&gt;setText(tr(pStr));</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    flg = !flg;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a5ae6f45b6b134db391e806306eba0711">  288</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#a5ae6f45b6b134db391e806306eba0711">&#x202A;WorkWindow::UpdateUI</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;{</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// 更新测孔编号</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ad836600ebcd400d33f48003b979e489f">&#x202A;le_hole_num</a>-&gt;setText(QString::fromStdString(<a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#ae557a25811c83150e0cb428df22dfab3">&#x202A;sysPara</a>.<a class="code" href="../../da/d17/a01046.html#a78c8d15d49fdb75f23f4218482b16d24">&#x202A;Hole</a>.<a class="code" href="../../da/d17/a01046.html#a747264c3a36ae3fc0709a64d164303f1">&#x202A;strHoleNum</a>));     </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    </div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// 更新探灯 亮度</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// ui-&gt;lb_Light_light-&gt;setText(QString::number(gConfig-&gt;sysPara.Extra.nLighterLight));</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="comment">// 设置滑动条对象的数据关联</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a0b69237b6e5ec232655b929c5d5804b1">&#x202A;hs_Light_light</a>-&gt;<a class="code" href="../../dd/d09/a01118.html#a2a5d6a071ffbe6f0f5727afc211b5fb9">&#x202A;Associate</a>(<a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ac50b3ec8c4b7b772a3c624b2ac2e5fd7">&#x202A;lb_Light_light</a>, &amp;<a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#ae557a25811c83150e0cb428df22dfab3">&#x202A;sysPara</a>.<a class="code" href="../../da/d17/a01046.html#a746fc0b3637c99e57937fe7960d9a7e8">&#x202A;Extra</a>.<a class="code" href="../../da/d17/a01046.html#ad3354c0338918bf1f0ee99ff07090062">&#x202A;nLighterLight</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// ui-&gt;hs_Light_light-&gt;Associate(nullptr, &amp;gConfig-&gt;sysPara.Extra.nLighterLight);</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a4b3c834d510144adafcb21791be6c86f">  313</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a4b3c834d510144adafcb21791be6c86f">&#x202A;WorkWindow::setConnect</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">// 打开相机 按钮 点击 执行 slot_get_camera_open</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="comment">// connect(ui-&gt;btn_startWork, SIGNAL(clicked()), this, SLOT(slot_get_camera_open()));</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// 打开关闭 相机信号触发相应操作</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">// connect(this, SIGNAL(signal_close_camera()), this-&gt;camera, SLOT(closeCamera()));</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">// 跨线程 传递消息数据</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// connect(this-&gt;camera, &amp;OpenCVThread::signal_linear_image, this, &amp;WorkWindows::slot_linear_image,Qt::QueuedConnection);</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">// connect(this-&gt;camera, &amp;OpenCVThread::signal_src_image, this, &amp;WorkWindows::slot_src_image, Qt::QueuedConnection);</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">/*///////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">    // 创建读写线程 存储图片数据</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    wThread = new QThread;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">    writer = new writerThread;</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">    // 建立按钮的点击信号与槽函数的连接</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">    connect(ui-&gt;btOpenWriter, SIGNAL(clicked()), this, SLOT(slot_get_writer_open()));</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">    // connect(ui-&gt;btCloseWriter, SIGNAL(clicked()), this, SLOT(slot_get_writer_close()));</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">    // 打开 写文件类操作的时候 会触发写线程 操作</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">    connect(this, &amp;WorkWindows::signal_open_writer,</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">    this-&gt;writer, &amp;writerThread::openWriter);</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">    // 设定 类事件与槽函数的连接</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">    connect(this, SIGNAL(signal_close_writer()), this-&gt;writer, SLOT(closeWriter()));</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">    connect(this-&gt;camera, &amp;OpenCVThread::signal_image_to_writer, this-&gt;writer, &amp;writerThread::getCapturedImage, Qt::QueuedConnection);</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">    // 开启写数据进程</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">    wThread-&gt;start();</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">    writer-&gt;moveToThread(wThread);</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// 设置实时绘图函数 的实现</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    connect(<a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>, &amp;<a class="code" href="../../d4/d12/a00910.html#a77b0ccc30c78ccdf0774f496fb65d113">&#x202A;CamProc::signal_realtime_plot</a>, <span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#a874bb8f346af3b956d97271d403195f6">&#x202A;WorkWindow::slot_realtime_plot</a>, Qt::QueuedConnection);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    connect(<a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>, &amp;<a class="code" href="../../d4/d12/a00910.html#a6bcbec6e91c3f3574b6e6e6a0e23f865">&#x202A;CamProc::signal_render_location</a>, <span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#a01083e6fa8585bbe6302affa302bd4d7">&#x202A;WorkWindow::slot_render_location</a>, Qt::QueuedConnection);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// 注册 传递 的类型</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    qRegisterMetaType&lt;FrameData::structCompass&gt;(<span class="stringliteral">&quot;FrameData::structCompass&amp;&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    connect(<a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>, &amp;<a class="code" href="../../d4/d12/a00910.html#a145014cde6ef95882518eb35ad089183">&#x202A;CamProc::signal_render_HCM</a>, <span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#abcea4fe649629b7e40ec27966d5c530c">&#x202A;WorkWindow::slot_render_HCM</a>, Qt::QueuedConnection);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// 渲染其他信息 // #TODO: 实现刷新信息的内容更改</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    connect(<span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#a1fdbab35a13e785f8e8ab1c58d114088">&#x202A;WorkWindow::signal_render_extra</a>, <span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#a9a8ced9f7f74949fed034599a7c51a50">&#x202A;WorkWindow::slot_render_extra</a>, Qt::QueuedConnection);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// 根据信号 更新UI</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    connect(<span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#a01608a63bb0bef7b0cb94a6a8c4ec97a">&#x202A;WorkWindow::signal_updateui</a>, <span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#a5ae6f45b6b134db391e806306eba0711">&#x202A;WorkWindow::UpdateUI</a>);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">// 处理完成一帧图像之后 后续进行处理</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    connect(<a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>, &amp;<a class="code" href="../../d4/d12/a00910.html#a59f8eddb9aaffcc5e39d6cadbe1aa913">&#x202A;CamProc::signal_show_frame</a>, <span class="keyword">this</span>, &amp;<a class="code" href="../../da/d73/a01090.html#ac884dd9b61e14f9f5ec47fc624663c8d">&#x202A;WorkWindow::slot_show_frame</a>, Qt::QueuedConnection);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#ac884dd9b61e14f9f5ec47fc624663c8d">  380</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#ac884dd9b61e14f9f5ec47fc624663c8d">&#x202A;WorkWindow::slot_show_frame</a>(cv::Mat *img_src,<span class="keywordtype">int</span> flg)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// 根据 flag 判断显示的label</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// 添加相应的计时程序能够得到进行 帧率计算结果</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;     <span class="keywordflow">if</span> (flg==0)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;     {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;         <a class="code" href="../../da/d73/a01090.html#a60f2ffe1a920ec6657fa90971da54db7">&#x202A;ShowImage</a>(*img_src, <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ac4dac337a2b736603833e2c882fbc28a">&#x202A;lb_src</a>, <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#a2f43c3bdf683c62650e913e0f4cc92b2">&#x202A;srcLb</a>.<a class="code" href="../../d3/dd1/a00914.html#ab00bf98d6ba19be08eae32aefb1939c8">&#x202A;lbWidth</a>, <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#a2f43c3bdf683c62650e913e0f4cc92b2">&#x202A;srcLb</a>.<a class="code" href="../../d3/dd1/a00914.html#a64f6f3bf35eb7e44ef8f758007fc5ab4">&#x202A;lbHeight</a>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;     }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flg == 1 )</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;     {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;         <span class="comment">// ShowImage(*img_src, ui-&gt;lb_dst, gConfig-&gt;runPara.dstLb.lbWidth, gConfig-&gt;runPara.dstLb.lbHeight);</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;         <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ae9058a19fdf251d4f9347d9bc1d13c4a">&#x202A;img_dst</a>-&gt;<a class="code" href="../../d6/d40/a01114.html#a054256077ab572adcbad2c9c7e8db3e2">&#x202A;ShowImage</a>(*img_src);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;     }</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;     <span class="keywordflow">else</span> <span class="keywordflow">if</span>(flg == 2 )</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;     {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;         <a class="code" href="../../da/d73/a01090.html#a60f2ffe1a920ec6657fa90971da54db7">&#x202A;ShowImage</a>(*img_src, <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a6e48d2e4567470e2a9148af7db4db017">&#x202A;lb_dst_p</a>, <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#ae0ab622ffd2a342f933de89d21ea4634">&#x202A;dstPLb</a>.<a class="code" href="../../d3/dd1/a00914.html#ab00bf98d6ba19be08eae32aefb1939c8">&#x202A;lbWidth</a>, <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#ae0ab622ffd2a342f933de89d21ea4634">&#x202A;dstPLb</a>.<a class="code" href="../../d3/dd1/a00914.html#a64f6f3bf35eb7e44ef8f758007fc5ab4">&#x202A;lbHeight</a>);</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;     }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;     <span class="comment">// cam_Proc-&gt;mutex_proc.unlock();</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a60f2ffe1a920ec6657fa90971da54db7">  416</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a60f2ffe1a920ec6657fa90971da54db7">&#x202A;WorkWindow::ShowImage</a>(<span class="keyword">const</span> cv::Mat &amp;srcImg, QLabel *lb_label, <span class="keywordtype">int</span> width, <span class="keywordtype">int</span> height)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;{</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a4b96b3fec375b002a20a50629c82c59d">&#x202A;uiMutex</a>.lock();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// tCamProc-&gt;procMutex.lock(); // 处理线程  锁定</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// #TODO: 寻找减少转换的方案</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// 首先根据label 大小 缩放对应的图像</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> img_cnt = 0;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    img_cnt++;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// LDebug(&quot;img_cnt:{},srcImg.cols:{},rows:{}&quot;,img_cnt, srcImg.cols, srcImg.rows);</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    cv::Mat tmp_img;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// 进行 图像缩放 进行进一步尺寸限制</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">// LDebug(&quot;start resize Image {}!&quot;,img_cnt);</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="comment">// #FIXME 解决图像缩放问题</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="comment">// float src_ratio = (float)srcImg.rows / srcImg.cols;</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="comment">// LTrace(&quot;Show Image Resize Start!&quot;);</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment">// #FIXME resize image Crash</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        Q_ASSERT(srcImg.rows != 0);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        cv::resize(srcImg, tmp_img, cv::Size(width, height));</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="comment">// tmp_show_img = srcImg(cv::Rect(0, 0, width, height));</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="comment">// LTrace(&quot;end Image{}&quot;, img_cnt);</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="comment">// tmp_show_img = srcImg;</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    {</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        LError(<span class="stringliteral">&quot;resize Error!&quot;</span>);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// 将原始图像转换成 QImage</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    QImage img = <a class="code" href="../../da/d45/a00011.html#abeb6dbf76427d84554906c85222d2b31">&#x202A;cvMat2QImage</a>(tmp_img);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="comment">// 将QImage 转换成 QPixmap</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    QPixmap pixmap = QPixmap::fromImage(img);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">// 在相应的lable 上 显示图片</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// pixmap.scaled(QSize(lb_label-&gt;width(),lb_label-&gt;height ()));</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// lb_label-&gt;setScaledContents(true);</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    lb_label-&gt;setPixmap(pixmap);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">// tCamProc-&gt;procMutex.unlock();</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a4b96b3fec375b002a20a50629c82c59d">&#x202A;uiMutex</a>.unlock();</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;}</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#adf8cb1ec53fceb7ea6e54150b22ba590">  472</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#adf8cb1ec53fceb7ea6e54150b22ba590">&#x202A;WorkWindow::on_btn_work_exit_clicked</a>()</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;{</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#a085cb2990e31caf25e8af118dcc94a62">&#x202A;CFG</a>.<a class="code" href="../../d3/dd1/a00914.html#a324cfe3828f9a23dbb1d41fe4899f0be">&#x202A;Mode</a>.<a class="code" href="../../d3/dd1/a00914.html#a88aa749d00c4bb5f6c2c29643e0edc3c">&#x202A;nShowWork</a> != 0)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">// closeEvent ()</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        emit this-&gt;close();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        return ;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="comment">// WorkWindow::~WorkWindow();</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">// #TODO 设置正确的退出操作</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    emit <a class="code" href="../../da/d73/a01090.html#a6c821653ff031166c2ce4f5fb2e59557">&#x202A;signal_close_windows</a>();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// 执行测试函数</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// testFunction();</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// testWrite();    // </span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#aedce215cbc9df3707f1371f28f63e9d1">  500</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#aedce215cbc9df3707f1371f28f63e9d1">&#x202A;WorkWindow::closeEvent</a>(QCloseEvent *event)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="comment">//#TODO 弹出窗口, 进行检测相应的进程是否关闭, 后续考虑更多参数执行</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// 弹出messsage 默认点击是</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    QMessageBox::critical(<span class="keyword">this</span>, </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                          tr(<span class="stringliteral">&quot;关闭窗口&quot;</span>), </div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                          tr(<span class="stringliteral">&quot;确定关闭窗口?&quot;</span>), </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                          QMessageBox::Yes | QMessageBox::No, </div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                          QMessageBox::Yes);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keyword">event</span>-&gt;accept();</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00521"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a7597205c96689c706eea3c64d87ba180">  521</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#a7597205c96689c706eea3c64d87ba180">&#x202A;WorkWindow::on_btn_startWork_clicked</a>()</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="comment">// 第一次点击 就进入开始工作  偶数次点击 停止工作</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> flg_btn_startWork = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a23fc25c32e1122f228abb5af184fba94">&#x202A;btn_startWork</a>-&gt;setText(flg_btn_startWork ? tr(<span class="stringliteral">&quot;Stop Work&quot;</span>) : tr(<span class="stringliteral">&quot;Start Work&quot;</span>));</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span> (flg_btn_startWork)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">//         tCamCapture-&gt;start(); // 开始运行采集进程</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="comment">// ui-&gt;btn_startWork-&gt;setText(&quot;StopWork&quot;);  // 设置为 开始工作 恢复最开始</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <span class="comment">// 解锁开始进程</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="comment">// tCamCapture-&gt;camCaptureMutex.unlock();</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>-&gt;start();</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="../../da/d73/a01090.html#abd0e4a3280c3f0317dc0552aa825300e">&#x202A;mCamBuffer</a> = <span class="keyword">new</span> <a class="code" href="../../db/dba/a01078.html">&#x202A;ThreadQueue&lt;cv::Mat&gt;</a>(<a class="code" href="../../da/d73/a01090.html#a9e86867751cf46e810a07195b761a219">&#x202A;MAX_CAP</a>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="comment">// tCamCapture-&gt;setBuffQueue(mCamBuffer);</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>-&gt;<a class="code" href="../../da/dd8/a00906.html#a6d19fdf437ea5c520a27714166444652">&#x202A;m_cap_buffer_</a> = <a class="code" href="../../da/d73/a01090.html#abd0e4a3280c3f0317dc0552aa825300e">&#x202A;mCamBuffer</a>;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">// 建立队列, 链接三个内容</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a5a2033a205243f274b50ef3d138ba79b">&#x202A;mBuffer_</a> = <span class="keyword">new</span> <a class="code" href="../../df/d39/a00950.html">&#x202A;CQueue&lt;cv::Mat&gt;</a>(<a class="code" href="../../da/d73/a01090.html#a9e86867751cf46e810a07195b761a219">&#x202A;MAX_CAP</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>-&gt;<a class="code" href="../../da/dd8/a00906.html#a1e6bbdc6934e99c0dee811df510c14cf">&#x202A;m_capture_buffer_</a> = <a class="code" href="../../da/d73/a01090.html#a5a2033a205243f274b50ef3d138ba79b">&#x202A;mBuffer_</a>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#af889b8877d6d55699ffef2da27776cf3">&#x202A;m_buffer_</a> = <a class="code" href="../../da/d73/a01090.html#a5a2033a205243f274b50ef3d138ba79b">&#x202A;mBuffer_</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;start();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">// tCamProc-&gt;SetBufferQueue(mCamBuffer);</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a564347b6e605497217c881acdffe7d40">&#x202A;m_proc_buffer_</a> = <a class="code" href="../../da/d73/a01090.html#abd0e4a3280c3f0317dc0552aa825300e">&#x202A;mCamBuffer</a>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">// 开启 串口监听线程 // 不仅要把数据加入线程, 同时要将内容加入结果中</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a9fd9311632f2f18c501344c32a758f6a">&#x202A;ser_proc_</a>-&gt;<a class="code" href="../../de/d41/a01030.html#a007a19e6aa2f66cfd83c60eaa95c145d">&#x202A;m_serial_</a>-&gt;moveToThread(<a class="code" href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;serial_thread_</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a9fd9311632f2f18c501344c32a758f6a">&#x202A;ser_proc_</a>-&gt;<a class="code" href="../../de/d41/a01030.html#a007a19e6aa2f66cfd83c60eaa95c145d">&#x202A;m_serial_</a>-&gt;<a class="code" href="../../d9/d9a/a00998.html#a30f2d80417f1745dfba393a2e1370c97">&#x202A;serial_</a>-&gt;moveToThread(<a class="code" href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;serial_thread_</a>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#a9fd9311632f2f18c501344c32a758f6a">&#x202A;ser_proc_</a>-&gt;<a class="code" href="../../de/d41/a01030.html#a007a19e6aa2f66cfd83c60eaa95c145d">&#x202A;m_serial_</a>-&gt;<a class="code" href="../../d9/d9a/a00998.html#a40575a6236cf353d61c56232b41944cc">&#x202A;timer_</a>-&gt;moveToThread(<a class="code" href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;serial_thread_</a>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="comment">// tCamProc-&gt;ser_proc_-&gt;m_serial_-&gt;aboutToQuit</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="comment">// 配置两个 对象共用队列</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>-&gt;<a class="code" href="../../da/dd8/a00906.html#a113cb7b79c6d75e1498880cecdd5e2bc">&#x202A;m_write_buffer_</a> = <a class="code" href="../../da/d73/a01090.html#a515597635c3e6dde97da88ba7887f0fa">&#x202A;m_writer_</a>-&gt;<a class="code" href="../../dd/df1/a01082.html#a6160a17554039c6133fd5cb7b418954f">&#x202A;m_write_buffer_</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="comment">// m_writer_-&gt;StartWriter();</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../da/d73/a01090.html#a515597635c3e6dde97da88ba7887f0fa">&#x202A;m_writer_</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <a class="code" href="../../da/d73/a01090.html#a515597635c3e6dde97da88ba7887f0fa">&#x202A;m_writer_</a> = <span class="keyword">new</span> <a class="code" href="../../dd/df1/a01082.html">&#x202A;WriteVideo</a>();</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// emit tCamProc-&gt;ser_proc_-&gt;m_serial_-&gt;signal_start_timer(100);</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <a class="code" href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;serial_thread_</a>-&gt;start(QThread::HighPriority);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="comment">// emit tCamProc-&gt;ser_proc_-&gt;m_serial_-&gt;signal_start_timer(100);</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#ad42c260ef6204e8c8ee60e16e86bdc01">&#x202A;flg_work</a> = <span class="keyword">true</span>;   <span class="comment">// 开始工作</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>-&gt;<a class="code" href="../../da/dd8/a00906.html#a4374b0a91ef5cffd19f87ae40075da49">&#x202A;f_capture_en_</a> = <span class="keyword">true</span>;  <span class="comment">// 开始采集</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="comment">// ui-&gt;btn_startWork-&gt;setText(&quot;StartWork&quot;);  // 设置为 开始工作 恢复最开始</span></div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160; </div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="comment">// 关闭串口接收</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <span class="comment">// tCamProc-&gt;ser_proc_-&gt;serPort-&gt;CloseListenTread();</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="comment">// emit tCamProc-&gt;ser_proc_-&gt;m_serial_-&gt;signal_close_serial();</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <a class="code" href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;serial_thread_</a>-&gt;quit();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="comment">// tCamProc-&gt;wait();</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;tCamProc</a>-&gt;<a class="code" href="../../d4/d12/a00910.html#ad42c260ef6204e8c8ee60e16e86bdc01">&#x202A;flg_work</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;tCamCapture</a>-&gt;<a class="code" href="../../da/dd8/a00906.html#a4374b0a91ef5cffd19f87ae40075da49">&#x202A;f_capture_en_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <a class="code" href="../../da/d73/a01090.html#a515597635c3e6dde97da88ba7887f0fa">&#x202A;m_writer_</a>-&gt;<a class="code" href="../../dd/df1/a01082.html#a21abae28e88c5d6090d4377913ef61ea">&#x202A;CloseWriter</a>();</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="comment">// 暂停线程 </span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <span class="comment">// tCamCapture-&gt;camCaptureMutex.try_lock();</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    flg_btn_startWork = !flg_btn_startWork;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;}</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00605"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#afbdd485a69c246f9a2fb96ce22c7f9c2">  605</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#afbdd485a69c246f9a2fb96ce22c7f9c2">&#x202A;WorkWindow::on_btn_Record_clicked</a>()</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;{</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> flg_btn_Record = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <a class="code" href="../../da/d73/a01090.html#adf9602ed0c9f0a7c0441c51071ef390a">&#x202A;reuseBtnText</a>(<a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a05e1f9e90abe088589aae53326747fba">&#x202A;btn_Record</a>, flg_btn_Record,<span class="stringliteral">&quot;Record&quot;</span>, <span class="stringliteral">&quot;StopRecord&quot;</span>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a874bb8f346af3b956d97271d403195f6">  622</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#a874bb8f346af3b956d97271d403195f6">&#x202A;WorkWindow::slot_realtime_plot</a>(<span class="keywordtype">int</span> v1, <span class="keywordtype">int</span> v2)</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;{</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="comment">// 绘制图像 自定义绘图程序</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">// realtimePlotUpdate(ui-&gt;wg_plot, v1, v2);</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    </div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    UNREFERENCED_PARAMETER(v1);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    UNREFERENCED_PARAMETER(v2);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;}</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a01083e6fa8585bbe6302affa302bd4d7">  641</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#a01083e6fa8585bbe6302affa302bd4d7">&#x202A;WorkWindow::slot_render_location</a>(<span class="keywordtype">int</span> dPluse)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;{</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a1ac8d28317aadd53446419ac8b353a82">&#x202A;renderLocation</a>(dPluse);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#abcea4fe649629b7e40ec27966d5c530c">  656</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#abcea4fe649629b7e40ec27966d5c530c">&#x202A;WorkWindow::slot_render_HCM</a>(<a class="code" href="../../dc/d81/a01006.html#d3/d08/a01018">&#x202A;FrameData::structCompass</a> &amp; compass)</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;{</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">// 更新 UI 值</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="../../da/d45/a00011.html#aab88c91d58aa0bc4e84d2d8505fef807">&#x202A;RenderLabelNumber</a>(<a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#aca67e3f25aab47d7458c904ab8ca8cf6">&#x202A;lb_pitch</a>, compass.<a class="code" href="../../dc/d81/a01006.html#ad33c0b39df86baa392140894ca258175">&#x202A;Pitch</a>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="../../da/d45/a00011.html#aab88c91d58aa0bc4e84d2d8505fef807">&#x202A;RenderLabelNumber</a>(<a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a810faf7477fbe729411612748531a2e5">&#x202A;lb_roll</a>, compass.<a class="code" href="../../dc/d81/a01006.html#a54c5c5dd5b0bb604724bedf76d083c0a">&#x202A;Roll</a>);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="../../da/d45/a00011.html#aab88c91d58aa0bc4e84d2d8505fef807">&#x202A;RenderLabelNumber</a>(<a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#aea4e9b523747eedfbe8010777ac3d611">&#x202A;lb_head</a>, compass.<a class="code" href="../../dc/d81/a01006.html#a8b92eb444471bc39f2cf4271be8908db">&#x202A;Heading</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">// 更新其他信息值 // 电压 // 亮度 // 存储信息</span></div>
<div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a9a8ced9f7f74949fed034599a7c51a50">  665</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../da/d73/a01090.html#a9a8ced9f7f74949fed034599a7c51a50">&#x202A;WorkWindow::slot_render_extra</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;{</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="../../da/d45/a00011.html#aab88c91d58aa0bc4e84d2d8505fef807">&#x202A;RenderLabelNumber</a>(<a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ad448afd5f048d92b0be437ef0784c4be">&#x202A;lb_battary</a>, <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#ae557a25811c83150e0cb428df22dfab3">&#x202A;sysPara</a>.<a class="code" href="../../da/d17/a01046.html#a746fc0b3637c99e57937fe7960d9a7e8">&#x202A;Extra</a>.<a class="code" href="../../da/d17/a01046.html#a3e8087391392da58d8c9e3f8bb410d13">&#x202A;nBattaryV</a>);</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">// #TODO:  更新其他值</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;}</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a998187f8036d589e67b63a8ed437f9dc">  681</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a998187f8036d589e67b63a8ed437f9dc">&#x202A;WorkWindow::paraInit</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">// 初始化全局变量</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="comment">// globalVarInit();</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="comment">// 读取 运行参数配置</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="../../da/d73/a01090.html#a0425ed5dd71363c61c45821e6428837a">&#x202A;runParaUpdate</a>(); <span class="comment">// 根据当前窗口状态初始化 运行参数</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;}</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a0425ed5dd71363c61c45821e6428837a">  701</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a0425ed5dd71363c61c45821e6428837a">&#x202A;WorkWindow::runParaUpdate</a>()</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;{</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160; </div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">// 根据运行 UI 更新显示 参数</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#a6f2aa9f691e27ff86e3380e9ecdb229c">&#x202A;dstLb</a>.<a class="code" href="../../d3/dd1/a00914.html#ab00bf98d6ba19be08eae32aefb1939c8">&#x202A;lbWidth</a>  = <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#aa2d57e080444e7d4201af2863033d288">&#x202A;lb_dst</a>-&gt;width();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#a6f2aa9f691e27ff86e3380e9ecdb229c">&#x202A;dstLb</a>.<a class="code" href="../../d3/dd1/a00914.html#a64f6f3bf35eb7e44ef8f758007fc5ab4">&#x202A;lbHeight</a> = <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#aa2d57e080444e7d4201af2863033d288">&#x202A;lb_dst</a>-&gt;height();</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#ae0ab622ffd2a342f933de89d21ea4634">&#x202A;dstPLb</a>.<a class="code" href="../../d3/dd1/a00914.html#ab00bf98d6ba19be08eae32aefb1939c8">&#x202A;lbWidth</a>     = <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a6e48d2e4567470e2a9148af7db4db017">&#x202A;lb_dst_p</a>-&gt;width();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#ae0ab622ffd2a342f933de89d21ea4634">&#x202A;dstPLb</a>.<a class="code" href="../../d3/dd1/a00914.html#a64f6f3bf35eb7e44ef8f758007fc5ab4">&#x202A;lbHeight</a>    = <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a6e48d2e4567470e2a9148af7db4db017">&#x202A;lb_dst_p</a>-&gt;height();</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#a2f43c3bdf683c62650e913e0f4cc92b2">&#x202A;srcLb</a>.<a class="code" href="../../d3/dd1/a00914.html#ab00bf98d6ba19be08eae32aefb1939c8">&#x202A;lbWidth</a>  = <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ac4dac337a2b736603833e2c882fbc28a">&#x202A;lb_src</a>-&gt;width();</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;runPara</a>.<a class="code" href="../../d3/dd1/a00914.html#a2f43c3bdf683c62650e913e0f4cc92b2">&#x202A;srcLb</a>.<a class="code" href="../../d3/dd1/a00914.html#a64f6f3bf35eb7e44ef8f758007fc5ab4">&#x202A;lbHeight</a> = <a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#ac4dac337a2b736603833e2c882fbc28a">&#x202A;lb_src</a>-&gt;height();</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    LDebug(<span class="stringliteral">&quot;Run Para Init Finish!&quot;</span>);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    </div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keywordflow">return</span>  <span class="keyword">true</span>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">// 初始化 实时绘制</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="keywordtype">bool</span> WorkWindows::realtimePlotInit(QCustomPlot * customPlot)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;{</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">//demoName = &quot;Real Time Data Demo&quot;;</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// include this section to fully disable antialiasing for higher performance:</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">    customPlot-&gt;setNotAntialiasedElements(QCP::aeAll);</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">    QFont font;</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">    font.setStyleStrategy(QFont::NoAntialias);</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">    customPlot-&gt;xAxis-&gt;setTickLabelFont(font);</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">    customPlot-&gt;yAxis-&gt;setTickLabelFont(font);</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">    customPlot-&gt;legend-&gt;setFont(font);</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    customPlot-&gt;addGraph(); <span class="comment">// blue line</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    customPlot-&gt;graph(0)-&gt;setPen(QPen(Qt::blue));</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    customPlot-&gt;graph(0)-&gt;setName(<span class="stringliteral">&quot;temp&quot;</span>);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">//customPlot-&gt;graph(0)-&gt;setBrush(QBrush(QColor(240, 255, 200)));</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">//customPlot-&gt;graph(0)-&gt;setAntialiasedFill(false);</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    customPlot-&gt;addGraph(); <span class="comment">// red line</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    customPlot-&gt;graph(1)-&gt;setPen(QPen(Qt::red));</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    customPlot-&gt;graph(1)-&gt;setName(<span class="stringliteral">&quot;hui&quot;</span>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">//customPlot-&gt;graph(0)-&gt;setChannelFillGraph(customPlot-&gt;graph(1));</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    customPlot-&gt;xAxis-&gt;setLabel(<span class="stringliteral">&quot;Time&quot;</span>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    customPlot-&gt;yAxis-&gt;setLabel(<span class="stringliteral">&quot;Local&quot;</span>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    customPlot-&gt;axisRect()-&gt;setupFullAxesBox();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160; </div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// make left and bottom axes transfer their ranges to right and top axes:</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">//connect(customPlot-&gt;xAxis, SIGNAL(rangeChanged(QCPRange)), customPlot-&gt;xAxis2, SLOT(setRange(QCPRange)));</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">//connect(customPlot-&gt;yAxis, SIGNAL(rangeChanged(QCPRange)), customPlot-&gt;yAxis2, SLOT(setRange(QCPRange)));</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="comment">// setup a timer that repeatedly calls MainWindow::realtimeDataSlot:</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    customPlot-&gt;legend-&gt;setVisible(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00765"></a><span class="lineno"><a class="line" href="../../d7/d3f/a00173.html#aba141f4c9c7434278bd4b16dbe488867">  765</a></span>&#160;<span class="keyword">static</span> std::vector&lt;int&gt; <a class="code" href="../../d7/d3f/a00173.html#aba141f4c9c7434278bd4b16dbe488867">&#x202A;cur1</a>, <a class="code" href="../../d7/d3f/a00173.html#a337f66546be5796295399100628c5c7d">&#x202A;cur0</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="keywordtype">bool</span> WorkWindows::realtimePlotUpdate(QCustomPlot * customPlot, <span class="keywordtype">int</span> v1, <span class="keywordtype">int</span> v2)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;{</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    cnt++;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    customPlot-&gt;graph(0)-&gt;addData(cnt,v1);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    customPlot-&gt;graph(1)-&gt;addData(cnt,v2);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160; </div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// 自动设定graph(1)曲线y轴的范围，如果不设定，有可能看不到图像</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// 也可以用ui-&gt;customPlot-&gt;yAxis-&gt;setRange(up,low)手动设定y轴范围</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    customPlot-&gt;graph(0)-&gt;rescaleValueAxis();</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    customPlot-&gt;graph(1)-&gt;rescaleValueAxis(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="comment">//这里的8，是指横坐标时间宽度为8秒，如果想要横坐标显示更多的时间</span></div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <span class="comment">//就把8调整为比较大到值，比如要显示60秒，那就改成60。</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="comment">//这时removeDataBefore(key-8)中的8也要改成60，否则曲线显示不完整。</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="comment">// customPlot-&gt;xAxis-&gt;setRange(key + 0.25, 8, Qt::AlignRight);//设定x轴的范围</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    customPlot-&gt;replot();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="../../da/d73/a01090.html#a1ac8d28317aadd53446419ac8b353a82">  802</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../da/d73/a01090.html#a1ac8d28317aadd53446419ac8b353a82">&#x202A;WorkWindow::renderLocation</a>(<span class="keywordtype">int</span> d_pluse)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;{</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">// 初始化位置信息  脉冲值</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">float</span> location = <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#ae557a25811c83150e0cb428df22dfab3">&#x202A;sysPara</a>.<a class="code" href="../../da/d17/a01046.html#a78c8d15d49fdb75f23f4218482b16d24">&#x202A;Hole</a>.<a class="code" href="../../da/d17/a01046.html#a40f815a9d1e043a90e703002833d51ab">&#x202A;nHoleBeginDepth</a>  ;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// 每个脉冲对应的 mm 值</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">float</span> mm_pluse = <a class="code" href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a>-&gt;<a class="code" href="../../d4/d51/a00017.html#ae557a25811c83150e0cb428df22dfab3">&#x202A;sysPara</a>.<a class="code" href="../../da/d17/a01046.html#aa2d0a7d3c82f3f63d3ed44ab1595f9ec">&#x202A;Pulse</a>.<a class="code" href="../../da/d17/a01046.html#aee070b12c85f63f2049215c25d2ff319">&#x202A;nPulseUm</a> / 1000.0f;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160; </div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">int</span> cnt = 0;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    cnt++;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span>(cnt !=1)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// 记录当前时刻位置信息</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    location += d_pluse * mm_pluse;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160; </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// 更新 UI 值</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">// ui-&gt;lb_loc-&gt;setText(QString::fromStdString(std::to_string(location)));</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="../../da/d45/a00011.html#aab88c91d58aa0bc4e84d2d8505fef807">&#x202A;RenderLabelNumber</a>(<a class="code" href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;ui</a>-&gt;<a class="code" href="../../da/d79/a01310.html#a37224fb98994e9bc1986de19ebdd9210">&#x202A;lb_loc</a>, location);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160; </div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aa01030_html_a007a19e6aa2f66cfd83c60eaa95c145d"><div class="ttname"><a href="../../de/d41/a01030.html#a007a19e6aa2f66cfd83c60eaa95c145d">&#x202A;SerialProc::m_serial_</a></div><div class="ttdeci">&#x202A;Serial * m_serial_</div><div class="ttdoc">&#x202A;The serial</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df9/a00044_source.html#l00078">SerialProc.h:78</a></div></div>
<div class="ttc" id="aa01046_html_ad3354c0338918bf1f0ee99ff07090062"><div class="ttname"><a href="../../da/d17/a01046.html#ad3354c0338918bf1f0ee99ff07090062">&#x202A;SystemPara::structExtra::nLighterLight</a></div><div class="ttdeci">&#x202A;int nLighterLight</div><div class="ttdoc">&#x202A;探灯亮度</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dee/a00053_source.html#l00204">SystemPara.h:204</a></div></div>
<div class="ttc" id="aa00011_html_abeb6dbf76427d84554906c85222d2b31"><div class="ttname"><a href="../../da/d45/a00011.html#abeb6dbf76427d84554906c85222d2b31">&#x202A;cvMat2QImage</a></div><div class="ttdeci">&#x202A;QImage cvMat2QImage(const cv::Mat &amp;mat)</div><div class="ttdoc">&#x202A;Mat 和QImage 互相转换</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00119">common.cc:119</a></div></div>
<div class="ttc" id="aa01006_html_a54c5c5dd5b0bb604724bedf76d083c0a"><div class="ttname"><a href="../../dc/d81/a01006.html#a54c5c5dd5b0bb604724bedf76d083c0a">&#x202A;FrameData::structCompass::Roll</a></div><div class="ttdeci">&#x202A;float Roll</div><div class="ttdoc">&#x202A;翻滚角</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00200">serialdata.h:200</a></div></div>
<div class="ttc" id="aa01310_html_ad448afd5f048d92b0be437ef0784c4be"><div class="ttname"><a href="../../da/d79/a01310.html#ad448afd5f048d92b0be437ef0784c4be">&#x202A;Ui_WorkWindow::lb_battary</a></div><div class="ttdeci">&#x202A;QLabel * lb_battary</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00070">ui_workwindow.h:70</a></div></div>
<div class="ttc" id="aa01078_html"><div class="ttname"><a href="../../db/dba/a01078.html">&#x202A;ThreadQueue&lt; cv::Mat &gt;</a></div></div>
<div class="ttc" id="aa01090_html_aecb6521bc92f39d5b3c8043a66d19bdd"><div class="ttname"><a href="../../da/d73/a01090.html#aecb6521bc92f39d5b3c8043a66d19bdd">&#x202A;WorkWindow::serial_thread_</a></div><div class="ttdeci">&#x202A;QThread * serial_thread_</div><div class="ttdoc">&#x202A;串口线程</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00197">WorkWindow.h:197</a></div></div>
<div class="ttc" id="aa01090_html_ae75fa8506f277a4bfd16ecf6854faa10"><div class="ttname"><a href="../../da/d73/a01090.html#ae75fa8506f277a4bfd16ecf6854faa10">&#x202A;WorkWindow::WorkWindow</a></div><div class="ttdeci">&#x202A;WorkWindow(QWidget *parent=nullptr)</div><div class="ttdoc">&#x202A;缓冲队列, 给采集和显示用的队列</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00017">WorkWindow.cc:17</a></div></div>
<div class="ttc" id="aa01310_html_a810faf7477fbe729411612748531a2e5"><div class="ttname"><a href="../../da/d79/a01310.html#a810faf7477fbe729411612748531a2e5">&#x202A;Ui_WorkWindow::lb_roll</a></div><div class="ttdeci">&#x202A;QLabel * lb_roll</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00080">ui_workwindow.h:80</a></div></div>
<div class="ttc" id="aa00998_html_ad1a697720cbc1f1022a4f620d8fd8de2"><div class="ttname"><a href="../../d9/d9a/a00998.html#ad1a697720cbc1f1022a4f620d8fd8de2">&#x202A;Serial::Init</a></div><div class="ttdeci">&#x202A;void Init(void)</div><div class="ttdoc">&#x202A;Initializes this object</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9a/a00152_source.html#l00204">Serial.cc:204</a></div></div>
<div class="ttc" id="aa01090_html_a49280ac59fb5d3c020a1618d191702d9"><div class="ttname"><a href="../../da/d73/a01090.html#a49280ac59fb5d3c020a1618d191702d9">&#x202A;WorkWindow::tCamProc</a></div><div class="ttdeci">&#x202A;CamProc * tCamProc</div><div class="ttdoc">&#x202A;The camera proc</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00426">WorkWindow.h:426</a></div></div>
<div class="ttc" id="aa01310_html_a23fc25c32e1122f228abb5af184fba94"><div class="ttname"><a href="../../da/d79/a01310.html#a23fc25c32e1122f228abb5af184fba94">&#x202A;Ui_WorkWindow::btn_startWork</a></div><div class="ttdeci">&#x202A;QPushButton * btn_startWork</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00046">ui_workwindow.h:46</a></div></div>
<div class="ttc" id="aa01046_html_aee070b12c85f63f2049215c25d2ff319"><div class="ttname"><a href="../../da/d17/a01046.html#aee070b12c85f63f2049215c25d2ff319">&#x202A;SystemPara::structPulse::nPulseUm</a></div><div class="ttdeci">&#x202A;int nPulseUm</div><div class="ttdoc">&#x202A;脉冲距离 广电编码器 每个脉冲走过的距离 单位 1um 最大 65535</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dee/a00053_source.html#l00108">SystemPara.h:108</a></div></div>
<div class="ttc" id="aa01082_html_a6160a17554039c6133fd5cb7b418954f"><div class="ttname"><a href="../../dd/df1/a01082.html#a6160a17554039c6133fd5cb7b418954f">&#x202A;WriteVideo::m_write_buffer_</a></div><div class="ttdeci">&#x202A;CQueue&lt; cv::Mat &gt; * m_write_buffer_</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d24/a00068_source.html#l00029">WriteVideo.h:29</a></div></div>
<div class="ttc" id="aa00354_html"><div class="ttname"><a href="../../d0/dc3/a00354.html">&#x202A;Ui</a></div></div>
<div class="ttc" id="aa01006_html_ad33c0b39df86baa392140894ca258175"><div class="ttname"><a href="../../dc/d81/a01006.html#ad33c0b39df86baa392140894ca258175">&#x202A;FrameData::structCompass::Pitch</a></div><div class="ttdeci">&#x202A;float Pitch</div><div class="ttdoc">&#x202A;俯仰角</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00199">serialdata.h:199</a></div></div>
<div class="ttc" id="aa00910_html_a4fd7a30375554ef9df2ef322db87c32d"><div class="ttname"><a href="../../d4/d12/a00910.html#a4fd7a30375554ef9df2ef322db87c32d">&#x202A;CamProc::Init</a></div><div class="ttdeci">&#x202A;bool Init(void)</div><div class="ttdoc">&#x202A;初始化线程 初始化完成后 开始运行</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dfe/a00125_source.html#l00072">camProc.cc:72</a></div></div>
<div class="ttc" id="aa00910_html"><div class="ttname"><a href="../../d4/d12/a00910.html">&#x202A;CamProc</a></div><div class="ttdoc">&#x202A;处理线程 单独执行过程</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00034">CamProc.h:34</a></div></div>
<div class="ttc" id="aa01090_html_a9a8ced9f7f74949fed034599a7c51a50"><div class="ttname"><a href="../../da/d73/a01090.html#a9a8ced9f7f74949fed034599a7c51a50">&#x202A;WorkWindow::slot_render_extra</a></div><div class="ttdeci">&#x202A;void slot_render_extra(void)</div><div class="ttdoc">&#x202A;更新其他信息值 // 电压 // 亮度 // 存储信息</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00665">WorkWindow.cc:665</a></div></div>
<div class="ttc" id="aa01090_html_a1fdbab35a13e785f8e8ab1c58d114088"><div class="ttname"><a href="../../da/d73/a01090.html#a1fdbab35a13e785f8e8ab1c58d114088">&#x202A;WorkWindow::signal_render_extra</a></div><div class="ttdeci">&#x202A;void signal_render_extra(void)</div><div class="ttdoc">&#x202A;Raises a Render extra signal</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d22/a00245_source.html#l00226">moc_WorkWindow.cpp:226</a></div></div>
<div class="ttc" id="aa01090_html_a5ae6f45b6b134db391e806306eba0711"><div class="ttname"><a href="../../da/d73/a01090.html#a5ae6f45b6b134db391e806306eba0711">&#x202A;WorkWindow::UpdateUI</a></div><div class="ttdeci">&#x202A;void UpdateUI(void)</div><div class="ttdoc">&#x202A;Updates the user interface 根据运行参数 更改目前程序界面上的参数</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00288">WorkWindow.cc:288</a></div></div>
<div class="ttc" id="aa00910_html_a77b0ccc30c78ccdf0774f496fb65d113"><div class="ttname"><a href="../../d4/d12/a00910.html#a77b0ccc30c78ccdf0774f496fb65d113">&#x202A;CamProc::signal_realtime_plot</a></div><div class="ttdeci">&#x202A;void signal_realtime_plot(int v1, int v2)</div><div class="ttdoc">&#x202A;实时绘制曲线</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00195">moc_CamProc.cpp:195</a></div></div>
<div class="ttc" id="aa01046_html_a40f815a9d1e043a90e703002833d51ab"><div class="ttname"><a href="../../da/d17/a01046.html#a40f815a9d1e043a90e703002833d51ab">&#x202A;SystemPara::structHole::nHoleBeginDepth</a></div><div class="ttdeci">&#x202A;int nHoleBeginDepth</div><div class="ttdoc">&#x202A;开始深度 表示设备开始工作的深度 mm</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dee/a00053_source.html#l00126">SystemPara.h:126</a></div></div>
<div class="ttc" id="aa01046_html_a746fc0b3637c99e57937fe7960d9a7e8"><div class="ttname"><a href="../../da/d17/a01046.html#a746fc0b3637c99e57937fe7960d9a7e8">&#x202A;SystemPara::Extra</a></div><div class="ttdeci">&#x202A;struct SystemPara::structExtra Extra</div></div>
<div class="ttc" id="aa01310_html_ae9058a19fdf251d4f9347d9bc1d13c4a"><div class="ttname"><a href="../../da/d79/a01310.html#ae9058a19fdf251d4f9347d9bc1d13c4a">&#x202A;Ui_WorkWindow::img_dst</a></div><div class="ttdeci">&#x202A;CQtOpenCVViewerGl * img_dst</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00092">ui_workwindow.h:92</a></div></div>
<div class="ttc" id="aa01310_html_ac50b3ec8c4b7b772a3c624b2ac2e5fd7"><div class="ttname"><a href="../../da/d79/a01310.html#ac50b3ec8c4b7b772a3c624b2ac2e5fd7">&#x202A;Ui_WorkWindow::lb_Light_light</a></div><div class="ttdeci">&#x202A;QLabel * lb_Light_light</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00062">ui_workwindow.h:62</a></div></div>
<div class="ttc" id="aa01090_html_a2d769fecaec29e242729466c7248aa50"><div class="ttname"><a href="../../da/d73/a01090.html#a2d769fecaec29e242729466c7248aa50">&#x202A;WorkWindow::tableview_model</a></div><div class="ttdeci">&#x202A;QStandardItemModel * tableview_model</div><div class="ttdoc">&#x202A;The tableview model</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00189">WorkWindow.h:189</a></div></div>
<div class="ttc" id="aa01090_html_a4b3c834d510144adafcb21791be6c86f"><div class="ttname"><a href="../../da/d73/a01090.html#a4b3c834d510144adafcb21791be6c86f">&#x202A;WorkWindow::setConnect</a></div><div class="ttdeci">&#x202A;bool setConnect(void)</div><div class="ttdoc">&#x202A;设定相关槽和信号的连接</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00313">WorkWindow.cc:313</a></div></div>
<div class="ttc" id="aa01090_html_af8070ab23e5e272a896848b4bab67c88"><div class="ttname"><a href="../../da/d73/a01090.html#af8070ab23e5e272a896848b4bab67c88">&#x202A;WorkWindow::showAllCamera</a></div><div class="ttdeci">&#x202A;bool showAllCamera(void)</div><div class="ttdoc">&#x202A;列出所有可以使用 的相机</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00237">WorkWindow.cc:237</a></div></div>
<div class="ttc" id="aa00910_html_a0f65990c3163a707a878c38a91b145a8"><div class="ttname"><a href="../../d4/d12/a00910.html#a0f65990c3163a707a878c38a91b145a8">&#x202A;CamProc::polar_map_xx_</a></div><div class="ttdeci">&#x202A;cv::Mat polar_map_xx_</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00208">CamProc.h:208</a></div></div>
<div class="ttc" id="aa00143_html_a21a3f473a04332ba5d1dd033517f0570"><div class="ttname"><a href="../../d7/dce/a00143.html#a21a3f473a04332ba5d1dd033517f0570">&#x202A;gConfig</a></div><div class="ttdeci">&#x202A;Config * gConfig</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dce/a00143_source.html#l00019">main.cpp:19</a></div></div>
<div class="ttc" id="aa00017_html_ae557a25811c83150e0cb428df22dfab3"><div class="ttname"><a href="../../d4/d51/a00017.html#ae557a25811c83150e0cb428df22dfab3">&#x202A;Config::sysPara</a></div><div class="ttdeci">&#x202A;SystemPara sysPara</div><div class="ttdoc">&#x202A;系统全局参数</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d51/a00017_source.html#l00243">Config.h:243</a></div></div>
<div class="ttc" id="aa00906_html_a113cb7b79c6d75e1498880cecdd5e2bc"><div class="ttname"><a href="../../da/dd8/a00906.html#a113cb7b79c6d75e1498880cecdd5e2bc">&#x202A;CamCapture::m_write_buffer_</a></div><div class="ttdeci">&#x202A;CQueue&lt; cv::Mat &gt; * m_write_buffer_</div><div class="ttdoc">&#x202A;设置存储队列, 用于存储 原始视频流</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/a00005_source.html#l00101">CamCapture.h:101</a></div></div>
<div class="ttc" id="aa01090_html_aedce215cbc9df3707f1371f28f63e9d1"><div class="ttname"><a href="../../da/d73/a01090.html#aedce215cbc9df3707f1371f28f63e9d1">&#x202A;WorkWindow::closeEvent</a></div><div class="ttdeci">&#x202A;void closeEvent(QCloseEvent *event) override</div><div class="ttdoc">&#x202A;Closes an event</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00500">WorkWindow.cc:500</a></div></div>
<div class="ttc" id="aa00906_html_a1e6bbdc6934e99c0dee811df510c14cf"><div class="ttname"><a href="../../da/dd8/a00906.html#a1e6bbdc6934e99c0dee811df510c14cf">&#x202A;CamCapture::m_capture_buffer_</a></div><div class="ttdeci">&#x202A;CQueue&lt; cv::Mat &gt; * m_capture_buffer_</div><div class="ttdoc">&#x202A;采集到的图像数据</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/a00005_source.html#l00102">CamCapture.h:102</a></div></div>
<div class="ttc" id="aa01310_html_a37224fb98994e9bc1986de19ebdd9210"><div class="ttname"><a href="../../da/d79/a01310.html#a37224fb98994e9bc1986de19ebdd9210">&#x202A;Ui_WorkWindow::lb_loc</a></div><div class="ttdeci">&#x202A;QLabel * lb_loc</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00102">ui_workwindow.h:102</a></div></div>
<div class="ttc" id="aa00910_html_a59f8eddb9aaffcc5e39d6cadbe1aa913"><div class="ttname"><a href="../../d4/d12/a00910.html#a59f8eddb9aaffcc5e39d6cadbe1aa913">&#x202A;CamProc::signal_show_frame</a></div><div class="ttdeci">&#x202A;void signal_show_frame(cv::Mat *img, int flg=0)</div><div class="ttdoc">&#x202A;显示一帧图像</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00188">moc_CamProc.cpp:188</a></div></div>
<div class="ttc" id="aa00914_html_a64f6f3bf35eb7e44ef8f758007fc5ab4"><div class="ttname"><a href="../../d3/dd1/a00914.html#a64f6f3bf35eb7e44ef8f758007fc5ab4">&#x202A;RunPara::Struct_UI::lbHeight</a></div><div class="ttdeci">&#x202A;int lbHeight</div><div class="ttdoc">&#x202A;label Height</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d51/a00017_source.html#l00074">Config.h:74</a></div></div>
<div class="ttc" id="aa00910_html_a145014cde6ef95882518eb35ad089183"><div class="ttname"><a href="../../d4/d12/a00910.html#a145014cde6ef95882518eb35ad089183">&#x202A;CamProc::signal_render_HCM</a></div><div class="ttdeci">&#x202A;void signal_render_HCM(FrameData::structCompass &amp;compass)</div><div class="ttdoc">&#x202A;更新电子罗盘数据</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00209">moc_CamProc.cpp:209</a></div></div>
<div class="ttc" id="aa00914_html_a324cfe3828f9a23dbb1d41fe4899f0be"><div class="ttname"><a href="../../d3/dd1/a00914.html#a324cfe3828f9a23dbb1d41fe4899f0be">&#x202A;RunPara::Struct_Config::Mode</a></div><div class="ttdeci">&#x202A;struct RunPara::Struct_Config::Struct_ShowMode Mode</div></div>
<div class="ttc" id="aa00017_html_a004c41c0eff48239d7cb3a12807199fb"><div class="ttname"><a href="../../d4/d51/a00017.html#a004c41c0eff48239d7cb3a12807199fb">&#x202A;Config::runPara</a></div><div class="ttdeci">&#x202A;RunPara runPara</div><div class="ttdoc">&#x202A;系统运行参数</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d51/a00017_source.html#l00245">Config.h:245</a></div></div>
<div class="ttc" id="aa01118_html_a2a5d6a071ffbe6f0f5727afc211b5fb9"><div class="ttname"><a href="../../dd/d09/a01118.html#a2a5d6a071ffbe6f0f5727afc211b5fb9">&#x202A;CSlider::Associate</a></div><div class="ttdeci">&#x202A;bool Associate(QLabel *label, int *data, bool over=true)</div><div class="ttdoc">&#x202A;Associates</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d77/a00095_source.html#l00046">cslider.cpp:46</a></div></div>
<div class="ttc" id="aa01090_html_a01083e6fa8585bbe6302affa302bd4d7"><div class="ttname"><a href="../../da/d73/a01090.html#a01083e6fa8585bbe6302affa302bd4d7">&#x202A;WorkWindow::slot_render_location</a></div><div class="ttdeci">&#x202A;void slot_render_location(int dPluse)</div><div class="ttdoc">&#x202A;输入差值 更新 位置信息</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00641">WorkWindow.cc:641</a></div></div>
<div class="ttc" id="aa01090_html_a8b11c4675ef63964c4dda797f22d6848"><div class="ttname"><a href="../../da/d73/a01090.html#a8b11c4675ef63964c4dda797f22d6848">&#x202A;WorkWindow::testWrite</a></div><div class="ttdeci">&#x202A;bool testWrite(void)</div><div class="ttdoc">&#x202A;Tests write</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00219">WorkWindow.cc:219</a></div></div>
<div class="ttc" id="aa01090_html_a1e0da08d59ee5e0646726394741121ed"><div class="ttname"><a href="../../da/d73/a01090.html#a1e0da08d59ee5e0646726394741121ed">&#x202A;WorkWindow::HandleTimeOut</a></div><div class="ttdeci">&#x202A;void HandleTimeOut(void)</div><div class="ttdoc">&#x202A;定时处理函数 定时测试函数</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00098">WorkWindow.cc:98</a></div></div>
<div class="ttc" id="aa00914_html_ab00bf98d6ba19be08eae32aefb1939c8"><div class="ttname"><a href="../../d3/dd1/a00914.html#ab00bf98d6ba19be08eae32aefb1939c8">&#x202A;RunPara::Struct_UI::lbWidth</a></div><div class="ttdeci">&#x202A;int lbWidth</div><div class="ttdoc">&#x202A;label Width</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d51/a00017_source.html#l00073">Config.h:73</a></div></div>
<div class="ttc" id="aa01090_html_a60f2ffe1a920ec6657fa90971da54db7"><div class="ttname"><a href="../../da/d73/a01090.html#a60f2ffe1a920ec6657fa90971da54db7">&#x202A;WorkWindow::ShowImage</a></div><div class="ttdeci">&#x202A;bool ShowImage(const cv::Mat &amp;srcImg, QLabel *lb_label, int width, int height)</div><div class="ttdoc">&#x202A;Shows the image</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00416">WorkWindow.cc:416</a></div></div>
<div class="ttc" id="aa01090_html_adf9602ed0c9f0a7c0441c51071ef390a"><div class="ttname"><a href="../../da/d73/a01090.html#adf9602ed0c9f0a7c0441c51071ef390a">&#x202A;WorkWindow::reuseBtnText</a></div><div class="ttdeci">&#x202A;bool reuseBtnText(QPushButton *btn, bool &amp;flg, const char *pStr, const char *nStr)</div><div class="ttdoc">&#x202A;复用按钮功能 按钮指针, 前一个字符串, 后一个字符串</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00266">WorkWindow.cc:266</a></div></div>
<div class="ttc" id="aa00906_html_a6d19fdf437ea5c520a27714166444652"><div class="ttname"><a href="../../da/dd8/a00906.html#a6d19fdf437ea5c520a27714166444652">&#x202A;CamCapture::m_cap_buffer_</a></div><div class="ttdeci">&#x202A;ThreadQueue&lt; cv::Mat &gt; * m_cap_buffer_</div><div class="ttdoc">&#x202A;设置缓冲队列 // 存储 每一帧图像</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/a00005_source.html#l00103">CamCapture.h:103</a></div></div>
<div class="ttc" id="aa01090_html_a0425ed5dd71363c61c45821e6428837a"><div class="ttname"><a href="../../da/d73/a01090.html#a0425ed5dd71363c61c45821e6428837a">&#x202A;WorkWindow::runParaUpdate</a></div><div class="ttdeci">&#x202A;bool runParaUpdate()</div><div class="ttdoc">&#x202A;初始化运行参数</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00701">WorkWindow.cc:701</a></div></div>
<div class="ttc" id="aa01090_html_a98cc99469cf7af144c013870cd2a31e1"><div class="ttname"><a href="../../da/d73/a01090.html#a98cc99469cf7af144c013870cd2a31e1">&#x202A;WorkWindow::Init</a></div><div class="ttdeci">&#x202A;bool Init(void)</div><div class="ttdoc">&#x202A;主线程 初始化</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00053">WorkWindow.cc:53</a></div></div>
<div class="ttc" id="aa01090_html_a0875afe0e956a7c16209a742b564309d"><div class="ttname"><a href="../../da/d73/a01090.html#a0875afe0e956a7c16209a742b564309d">&#x202A;WorkWindow::ui</a></div><div class="ttdeci">&#x202A;Ui::WorkWindow * ui</div><div class="ttdoc">&#x202A;The user interface</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00186">WorkWindow.h:186</a></div></div>
<div class="ttc" id="aa01090_html_adf8cb1ec53fceb7ea6e54150b22ba590"><div class="ttname"><a href="../../da/d73/a01090.html#adf8cb1ec53fceb7ea6e54150b22ba590">&#x202A;WorkWindow::on_btn_work_exit_clicked</a></div><div class="ttdeci">&#x202A;void on_btn_work_exit_clicked()</div><div class="ttdoc">&#x202A;void on_btntestControl_clicked(); void on_btn_openCamera_clicked(); // 打开摄像头 按钮</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00472">WorkWindow.cc:472</a></div></div>
<div class="ttc" id="aa01090_html_a229ee1dfd0dab4d51e2306ca565ac6cf"><div class="ttname"><a href="../../da/d73/a01090.html#a229ee1dfd0dab4d51e2306ca565ac6cf">&#x202A;WorkWindow::tCamCapture</a></div><div class="ttdeci">&#x202A;CamCapture * tCamCapture</div><div class="ttdoc">&#x202A;相机采集 对象</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00191">WorkWindow.h:191</a></div></div>
<div class="ttc" id="aa00914_html_a2f43c3bdf683c62650e913e0f4cc92b2"><div class="ttname"><a href="../../d3/dd1/a00914.html#a2f43c3bdf683c62650e913e0f4cc92b2">&#x202A;RunPara::srcLb</a></div><div class="ttdeci">&#x202A;struct RunPara::Struct_UI srcLb</div></div>
<div class="ttc" id="aa01046_html_aa2d0a7d3c82f3f63d3ed44ab1595f9ec"><div class="ttname"><a href="../../da/d17/a01046.html#aa2d0a7d3c82f3f63d3ed44ab1595f9ec">&#x202A;SystemPara::Pulse</a></div><div class="ttdeci">&#x202A;struct SystemPara::structPulse Pulse</div></div>
<div class="ttc" id="aa01090_html_a0152db70679b15edaae5b26153891261"><div class="ttname"><a href="../../da/d73/a01090.html#a0152db70679b15edaae5b26153891261">&#x202A;WorkWindow::m_timer_</a></div><div class="ttdeci">&#x202A;QTimer m_timer_</div><div class="ttdoc">&#x202A;The timer</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00429">WorkWindow.h:429</a></div></div>
<div class="ttc" id="aa00998_html_a40575a6236cf353d61c56232b41944cc"><div class="ttname"><a href="../../d9/d9a/a00998.html#a40575a6236cf353d61c56232b41944cc">&#x202A;Serial::timer_</a></div><div class="ttdeci">&#x202A;QTimer * timer_</div><div class="ttdoc">&#x202A;The timer</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8c/a00035_source.html#l00119">Serial.h:119</a></div></div>
<div class="ttc" id="aa01046_html_a3e8087391392da58d8c9e3f8bb410d13"><div class="ttname"><a href="../../da/d17/a01046.html#a3e8087391392da58d8c9e3f8bb410d13">&#x202A;SystemPara::structExtra::nBattaryV</a></div><div class="ttdeci">&#x202A;int nBattaryV</div><div class="ttdoc">&#x202A;电池电压 // 0.01V 单位</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dee/a00053_source.html#l00207">SystemPara.h:207</a></div></div>
<div class="ttc" id="aa01006_html_d3/d08/a01018"><div class="ttname"><a href="../../dc/d81/a01006.html#d3/d08/a01018">&#x202A;FrameData::structCompass</a></div><div class="ttdoc">&#x202A;电子罗盘</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00197">serialdata.h:197</a></div></div>
<div class="ttc" id="aa00173_html_a337f66546be5796295399100628c5c7d"><div class="ttname"><a href="../../d7/d3f/a00173.html#a337f66546be5796295399100628c5c7d">&#x202A;cur0</a></div><div class="ttdeci">&#x202A;static std::vector&lt; int &gt; cur0</div><div class="ttdoc">&#x202A;设置实时更新值</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00765">WorkWindow.cc:765</a></div></div>
<div class="ttc" id="aa00914_html_ae0ab622ffd2a342f933de89d21ea4634"><div class="ttname"><a href="../../d3/dd1/a00914.html#ae0ab622ffd2a342f933de89d21ea4634">&#x202A;RunPara::dstPLb</a></div><div class="ttdeci">&#x202A;struct RunPara::Struct_UI dstPLb</div><div class="ttdoc">&#x202A;given label rect == src dst dst_p</div></div>
<div class="ttc" id="aa01114_html_a054256077ab572adcbad2c9c7e8db3e2"><div class="ttname"><a href="../../d6/d40/a01114.html#a054256077ab572adcbad2c9c7e8db3e2">&#x202A;CQtOpenCVViewerGl::ShowImage</a></div><div class="ttdeci">&#x202A;bool ShowImage(const cv::Mat &amp;image)</div><div class="ttdoc">&#x202A;Shows the image</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dab/a00089_source.html#l00210">cqtopencvviewergl.cpp:210</a></div></div>
<div class="ttc" id="aa01090_html_a515597635c3e6dde97da88ba7887f0fa"><div class="ttname"><a href="../../da/d73/a01090.html#a515597635c3e6dde97da88ba7887f0fa">&#x202A;WorkWindow::m_writer_</a></div><div class="ttdeci">&#x202A;WriteVideo * m_writer_</div><div class="ttdoc">&#x202A;数据写入流</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00193">WorkWindow.h:193</a></div></div>
<div class="ttc" id="aa01090_html_a9e86867751cf46e810a07195b761a219"><div class="ttname"><a href="../../da/d73/a01090.html#a9e86867751cf46e810a07195b761a219">&#x202A;WorkWindow::MAX_CAP</a></div><div class="ttdeci">&#x202A;const int MAX_CAP</div><div class="ttdoc">&#x202A;The maximum capability</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00070">WorkWindow.h:70</a></div></div>
<div class="ttc" id="aa01090_html_a4b96b3fec375b002a20a50629c82c59d"><div class="ttname"><a href="../../da/d73/a01090.html#a4b96b3fec375b002a20a50629c82c59d">&#x202A;WorkWindow::uiMutex</a></div><div class="ttdeci">&#x202A;QMutex uiMutex</div><div class="ttdoc">&#x202A;The mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00428">WorkWindow.h:428</a></div></div>
<div class="ttc" id="aa00914_html_a6f2aa9f691e27ff86e3380e9ecdb229c"><div class="ttname"><a href="../../d3/dd1/a00914.html#a6f2aa9f691e27ff86e3380e9ecdb229c">&#x202A;RunPara::dstLb</a></div><div class="ttdeci">&#x202A;struct RunPara::Struct_UI dstLb</div></div>
<div class="ttc" id="aa00906_html_a6f0ea79714ca60cd2f4c6c6d83300117"><div class="ttname"><a href="../../da/dd8/a00906.html#a6f0ea79714ca60cd2f4c6c6d83300117">&#x202A;CamCapture::init</a></div><div class="ttdeci">&#x202A;bool init(void)</div><div class="ttdoc">&#x202A;初始化参数</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc8/a00122_source.html#l00119">CamCapture.cc:119</a></div></div>
<div class="ttc" id="aa00906_html_a4374b0a91ef5cffd19f87ae40075da49"><div class="ttname"><a href="../../da/dd8/a00906.html#a4374b0a91ef5cffd19f87ae40075da49">&#x202A;CamCapture::f_capture_en_</a></div><div class="ttdeci">&#x202A;bool f_capture_en_</div><div class="ttdoc">&#x202A;True to capture en</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/a00005_source.html#l00107">CamCapture.h:107</a></div></div>
<div class="ttc" id="aa01090_html_abcea4fe649629b7e40ec27966d5c530c"><div class="ttname"><a href="../../da/d73/a01090.html#abcea4fe649629b7e40ec27966d5c530c">&#x202A;WorkWindow::slot_render_HCM</a></div><div class="ttdeci">&#x202A;void slot_render_HCM(FrameData::structCompass &amp;compass)</div><div class="ttdoc">&#x202A;更新电子罗盘数据</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00656">WorkWindow.cc:656</a></div></div>
<div class="ttc" id="aa01310_html_a05e1f9e90abe088589aae53326747fba"><div class="ttname"><a href="../../da/d79/a01310.html#a05e1f9e90abe088589aae53326747fba">&#x202A;Ui_WorkWindow::btn_Record</a></div><div class="ttdeci">&#x202A;QPushButton * btn_Record</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00050">ui_workwindow.h:50</a></div></div>
<div class="ttc" id="aa00910_html_a0a63cee8f75f722259a3bd4d54eed9bc"><div class="ttname"><a href="../../d4/d12/a00910.html#a0a63cee8f75f722259a3bd4d54eed9bc">&#x202A;CamProc::polar_map_yy_</a></div><div class="ttdeci">&#x202A;cv::Mat polar_map_yy_</div><div class="ttdoc">&#x202A;image Map xx yy</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00208">CamProc.h:208</a></div></div>
<div class="ttc" id="aa00173_html_aba141f4c9c7434278bd4b16dbe488867"><div class="ttname"><a href="../../d7/d3f/a00173.html#aba141f4c9c7434278bd4b16dbe488867">&#x202A;cur1</a></div><div class="ttdeci">&#x202A;static std::vector&lt; int &gt; cur1</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00765">WorkWindow.cc:765</a></div></div>
<div class="ttc" id="aa00998_html_a30f2d80417f1745dfba393a2e1370c97"><div class="ttname"><a href="../../d9/d9a/a00998.html#a30f2d80417f1745dfba393a2e1370c97">&#x202A;Serial::serial_</a></div><div class="ttdeci">&#x202A;QSerialPort * serial_</div><div class="ttdoc">&#x202A;The serial</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d8c/a00035_source.html#l00117">Serial.h:117</a></div></div>
<div class="ttc" id="aa00906_html"><div class="ttname"><a href="../../da/dd8/a00906.html">&#x202A;CamCapture</a></div><div class="ttdoc">&#x202A;A camera capture.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/dad/a00005_source.html#l00031">CamCapture.h:31</a></div></div>
<div class="ttc" id="aa01090_html"><div class="ttname"><a href="../../da/d73/a01090.html">&#x202A;WorkWindow</a></div><div class="ttdoc">&#x202A;Form for viewing the work.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00064">WorkWindow.h:64</a></div></div>
<div class="ttc" id="aa01090_html_ad9b744cfdd0514de80888b646ff9adda"><div class="ttname"><a href="../../da/d73/a01090.html#ad9b744cfdd0514de80888b646ff9adda">&#x202A;WorkWindow::tableViewChange</a></div><div class="ttdeci">&#x202A;bool tableViewChange(const std::vector&lt; QString &gt; &amp;vecQ)</div><div class="ttdoc">&#x202A;Table view change</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00166">WorkWindow.cc:166</a></div></div>
<div class="ttc" id="aa01090_html_a6c821653ff031166c2ce4f5fb2e59557"><div class="ttname"><a href="../../da/d73/a01090.html#a6c821653ff031166c2ce4f5fb2e59557">&#x202A;WorkWindow::signal_close_windows</a></div><div class="ttdeci">&#x202A;void signal_close_windows(void)</div><div class="ttdoc">&#x202A;Raises a Close windows signal</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d22/a00245_source.html#l00220">moc_WorkWindow.cpp:220</a></div></div>
<div class="ttc" id="aa01046_html_a78c8d15d49fdb75f23f4218482b16d24"><div class="ttname"><a href="../../da/d17/a01046.html#a78c8d15d49fdb75f23f4218482b16d24">&#x202A;SystemPara::Hole</a></div><div class="ttdeci">&#x202A;struct SystemPara::structHole Hole</div></div>
<div class="ttc" id="aa01090_html_a998187f8036d589e67b63a8ed437f9dc"><div class="ttname"><a href="../../da/d73/a01090.html#a998187f8036d589e67b63a8ed437f9dc">&#x202A;WorkWindow::paraInit</a></div><div class="ttdeci">&#x202A;bool paraInit(void)</div><div class="ttdoc">&#x202A;初始化 程序</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00681">WorkWindow.cc:681</a></div></div>
<div class="ttc" id="aa01090_html_a874bb8f346af3b956d97271d403195f6"><div class="ttname"><a href="../../da/d73/a01090.html#a874bb8f346af3b956d97271d403195f6">&#x202A;WorkWindow::slot_realtime_plot</a></div><div class="ttdeci">&#x202A;void slot_realtime_plot(int v1, int v2)</div><div class="ttdoc">&#x202A;绘制 实时数据</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00622">WorkWindow.cc:622</a></div></div>
<div class="ttc" id="aa00011_html_aab88c91d58aa0bc4e84d2d8505fef807"><div class="ttname"><a href="../../da/d45/a00011.html#aab88c91d58aa0bc4e84d2d8505fef807">&#x202A;RenderLabelNumber</a></div><div class="ttdeci">&#x202A;void RenderLabelNumber(QLabel *label, float num)</div><div class="ttdoc">&#x202A;实现信息格式化显示 默认 float 显示一位数据</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l02078">common.cc:2078</a></div></div>
<div class="ttc" id="aa01082_html_a21abae28e88c5d6090d4377913ef61ea"><div class="ttname"><a href="../../dd/df1/a01082.html#a21abae28e88c5d6090d4377913ef61ea">&#x202A;WriteVideo::CloseWriter</a></div><div class="ttdeci">&#x202A;bool CloseWriter()</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd9/a00179_source.html#l00075">WriteVideo.cc:75</a></div></div>
<div class="ttc" id="aa01082_html"><div class="ttname"><a href="../../dd/df1/a01082.html">&#x202A;WriteVideo</a></div><div class="ttdoc">&#x202A;读写视频类实现</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d8b/a00059_source.html#l00022">UnitTest.h:22</a></div></div>
<div class="ttc" id="aa01310_html_aea4e9b523747eedfbe8010777ac3d611"><div class="ttname"><a href="../../da/d79/a01310.html#aea4e9b523747eedfbe8010777ac3d611">&#x202A;Ui_WorkWindow::lb_head</a></div><div class="ttdeci">&#x202A;QLabel * lb_head</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00083">ui_workwindow.h:83</a></div></div>
<div class="ttc" id="aa00950_html"><div class="ttname"><a href="../../df/d39/a00950.html">&#x202A;CQueue&lt; cv::Mat &gt;</a></div></div>
<div class="ttc" id="aa01090_html_afbdd485a69c246f9a2fb96ce22c7f9c2"><div class="ttname"><a href="../../da/d73/a01090.html#afbdd485a69c246f9a2fb96ce22c7f9c2">&#x202A;WorkWindow::on_btn_Record_clicked</a></div><div class="ttdeci">&#x202A;void on_btn_Record_clicked()</div><div class="ttdoc">&#x202A;Handles button record clicked signals</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00605">WorkWindow.cc:605</a></div></div>
<div class="ttc" id="aa01090_html_a01608a63bb0bef7b0cb94a6a8c4ec97a"><div class="ttname"><a href="../../da/d73/a01090.html#a01608a63bb0bef7b0cb94a6a8c4ec97a">&#x202A;WorkWindow::signal_updateui</a></div><div class="ttdeci">&#x202A;void signal_updateui(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d22/a00245_source.html#l00232">moc_WorkWindow.cpp:232</a></div></div>
<div class="ttc" id="aa01310_html_ae99e1d373bc2aca03cb84d59af908645"><div class="ttname"><a href="../../da/d79/a01310.html#ae99e1d373bc2aca03cb84d59af908645">&#x202A;Ui_WorkWindow::setupUi</a></div><div class="ttdeci">&#x202A;void setupUi(QMainWindow *WorkWindow)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00105">ui_workwindow.h:105</a></div></div>
<div class="ttc" id="aa00011_html_a26dca4d5b5d146ab29a61dbd9876603d"><div class="ttname"><a href="../../da/d45/a00011.html#a26dca4d5b5d146ab29a61dbd9876603d">&#x202A;releaseThread</a></div><div class="ttdeci">&#x202A;bool releaseThread(QThread *qthread)</div><div class="ttdoc">&#x202A;停止进程并同时 删除对象 循环进程</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00531">common.cc:531</a></div></div>
<div class="ttc" id="aa01310_html_aca67e3f25aab47d7458c904ab8ca8cf6"><div class="ttname"><a href="../../da/d79/a01310.html#aca67e3f25aab47d7458c904ab8ca8cf6">&#x202A;Ui_WorkWindow::lb_pitch</a></div><div class="ttdeci">&#x202A;QLabel * lb_pitch</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00077">ui_workwindow.h:77</a></div></div>
<div class="ttc" id="aa00914_html_a085cb2990e31caf25e8af118dcc94a62"><div class="ttname"><a href="../../d3/dd1/a00914.html#a085cb2990e31caf25e8af118dcc94a62">&#x202A;RunPara::CFG</a></div><div class="ttdeci">&#x202A;struct RunPara::Struct_Config CFG</div></div>
<div class="ttc" id="aa00914_html_a88aa749d00c4bb5f6c2c29643e0edc3c"><div class="ttname"><a href="../../d3/dd1/a00914.html#a88aa749d00c4bb5f6c2c29643e0edc3c">&#x202A;RunPara::Struct_Config::Struct_ShowMode::nShowWork</a></div><div class="ttdeci">&#x202A;int nShowWork</div><div class="ttdoc">&#x202A;直接进入工作不进入设置</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d51/a00017_source.html#l00138">Config.h:138</a></div></div>
<div class="ttc" id="aa01090_html_a5a2033a205243f274b50ef3d138ba79b"><div class="ttname"><a href="../../da/d73/a01090.html#a5a2033a205243f274b50ef3d138ba79b">&#x202A;WorkWindow::mBuffer_</a></div><div class="ttdeci">&#x202A;CQueue&lt; cv::Mat &gt; * mBuffer_</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00072">WorkWindow.h:72</a></div></div>
<div class="ttc" id="aa01090_html_ac884dd9b61e14f9f5ec47fc624663c8d"><div class="ttname"><a href="../../da/d73/a01090.html#ac884dd9b61e14f9f5ec47fc624663c8d">&#x202A;WorkWindow::slot_show_frame</a></div><div class="ttdeci">&#x202A;void slot_show_frame(cv::Mat *img, int flg=0)</div><div class="ttdoc">&#x202A;Slot show frame</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00380">WorkWindow.cc:380</a></div></div>
<div class="ttc" id="aa01310_html_a0b69237b6e5ec232655b929c5d5804b1"><div class="ttname"><a href="../../da/d79/a01310.html#a0b69237b6e5ec232655b929c5d5804b1">&#x202A;Ui_WorkWindow::hs_Light_light</a></div><div class="ttdeci">&#x202A;CSlider * hs_Light_light</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00063">ui_workwindow.h:63</a></div></div>
<div class="ttc" id="aa01310_html_a6e48d2e4567470e2a9148af7db4db017"><div class="ttname"><a href="../../da/d79/a01310.html#a6e48d2e4567470e2a9148af7db4db017">&#x202A;Ui_WorkWindow::lb_dst_p</a></div><div class="ttdeci">&#x202A;QLabel * lb_dst_p</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00090">ui_workwindow.h:90</a></div></div>
<div class="ttc" id="aa00910_html_a564347b6e605497217c881acdffe7d40"><div class="ttname"><a href="../../d4/d12/a00910.html#a564347b6e605497217c881acdffe7d40">&#x202A;CamProc::m_proc_buffer_</a></div><div class="ttdeci">&#x202A;ThreadQueue&lt; cv::Mat &gt; * m_proc_buffer_</div><div class="ttdoc">&#x202A;Buffer for proc data</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00167">CamProc.h:167</a></div></div>
<div class="ttc" id="aa01090_html_a52d40b7c7a475ee6210b2fee90938bea"><div class="ttname"><a href="../../da/d73/a01090.html#a52d40b7c7a475ee6210b2fee90938bea">&#x202A;WorkWindow::testFunction</a></div><div class="ttdeci">&#x202A;bool testFunction(void)</div><div class="ttdoc">&#x202A;测试函数</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00187">WorkWindow.cc:187</a></div></div>
<div class="ttc" id="aa01046_html_a747264c3a36ae3fc0709a64d164303f1"><div class="ttname"><a href="../../da/d17/a01046.html#a747264c3a36ae3fc0709a64d164303f1">&#x202A;SystemPara::structHole::strHoleNum</a></div><div class="ttdeci">&#x202A;char strHoleNum[20]</div><div class="ttdoc">&#x202A;测孔编号</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dee/a00053_source.html#l00130">SystemPara.h:130</a></div></div>
<div class="ttc" id="aa00910_html_af889b8877d6d55699ffef2da27776cf3"><div class="ttname"><a href="../../d4/d12/a00910.html#af889b8877d6d55699ffef2da27776cf3">&#x202A;CamProc::m_buffer_</a></div><div class="ttdeci">&#x202A;CQueue&lt; cv::Mat &gt; * m_buffer_</div><div class="ttdoc">&#x202A;处理队列</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00168">CamProc.h:168</a></div></div>
<div class="ttc" id="aa01090_html_abd0e4a3280c3f0317dc0552aa825300e"><div class="ttname"><a href="../../da/d73/a01090.html#abd0e4a3280c3f0317dc0552aa825300e">&#x202A;WorkWindow::mCamBuffer</a></div><div class="ttdeci">&#x202A;ThreadQueue&lt; cv::Mat &gt; * mCamBuffer</div><div class="ttdoc">&#x202A;Buffer for camera data</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/a00062_source.html#l00071">WorkWindow.h:71</a></div></div>
<div class="ttc" id="aa00910_html_a6bcbec6e91c3f3574b6e6e6a0e23f865"><div class="ttname"><a href="../../d4/d12/a00910.html#a6bcbec6e91c3f3574b6e6e6a0e23f865">&#x202A;CamProc::signal_render_location</a></div><div class="ttdeci">&#x202A;void signal_render_location(int d_pluse)</div><div class="ttdoc">&#x202A;更新位置信息</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/df1/a00206_source.html#l00202">moc_CamProc.cpp:202</a></div></div>
<div class="ttc" id="aa01006_html_a8b92eb444471bc39f2cf4271be8908db"><div class="ttname"><a href="../../dc/d81/a01006.html#a8b92eb444471bc39f2cf4271be8908db">&#x202A;FrameData::structCompass::Heading</a></div><div class="ttdeci">&#x202A;float Heading</div><div class="ttdoc">&#x202A;朝向角</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d41/a00038_source.html#l00201">serialdata.h:201</a></div></div>
<div class="ttc" id="aa01310_html_aa2d57e080444e7d4201af2863033d288"><div class="ttname"><a href="../../da/d79/a01310.html#aa2d57e080444e7d4201af2863033d288">&#x202A;Ui_WorkWindow::lb_dst</a></div><div class="ttdeci">&#x202A;QLabel * lb_dst</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00093">ui_workwindow.h:93</a></div></div>
<div class="ttc" id="aa00011_html_a2d398856982f7220ada054e107a974e2"><div class="ttname"><a href="../../da/d45/a00011.html#a2d398856982f7220ada054e107a974e2">&#x202A;readImage</a></div><div class="ttdeci">&#x202A;cv::Mat readImage(std::string str=work_path+&quot;Media/pic/&quot;)</div><div class="ttdoc">&#x202A;Reads an image</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d88/a00128_source.html#l00499">common.cc:499</a></div></div>
<div class="ttc" id="aa01310_html_ac4dac337a2b736603833e2c882fbc28a"><div class="ttname"><a href="../../da/d79/a01310.html#ac4dac337a2b736603833e2c882fbc28a">&#x202A;Ui_WorkWindow::lb_src</a></div><div class="ttdeci">&#x202A;QLabel * lb_src</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00039">ui_workwindow.h:39</a></div></div>
<div class="ttc" id="aa01090_html_a14b0195c53ce8e76e00f73526cd1fbb5"><div class="ttname"><a href="../../da/d73/a01090.html#a14b0195c53ce8e76e00f73526cd1fbb5">&#x202A;WorkWindow::tableViewInit</a></div><div class="ttdeci">&#x202A;bool tableViewInit(void)</div><div class="ttdoc">&#x202A;table 更新内容 实现</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00137">WorkWindow.cc:137</a></div></div>
<div class="ttc" id="aa01090_html_a7597205c96689c706eea3c64d87ba180"><div class="ttname"><a href="../../da/d73/a01090.html#a7597205c96689c706eea3c64d87ba180">&#x202A;WorkWindow::on_btn_startWork_clicked</a></div><div class="ttdeci">&#x202A;void on_btn_startWork_clicked()</div><div class="ttdoc">&#x202A;Handles button start work clicked signals</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00521">WorkWindow.cc:521</a></div></div>
<div class="ttc" id="aa01310_html_ad836600ebcd400d33f48003b979e489f"><div class="ttname"><a href="../../da/d79/a01310.html#ad836600ebcd400d33f48003b979e489f">&#x202A;Ui_WorkWindow::le_hole_num</a></div><div class="ttdeci">&#x202A;QLineEdit * le_hole_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d39/a00257_source.html#l00059">ui_workwindow.h:59</a></div></div>
<div class="ttc" id="aa01090_html_a1ac8d28317aadd53446419ac8b353a82"><div class="ttname"><a href="../../da/d73/a01090.html#a1ac8d28317aadd53446419ac8b353a82">&#x202A;WorkWindow::renderLocation</a></div><div class="ttdeci">&#x202A;bool renderLocation(int d_pluse)</div><div class="ttdoc">&#x202A;实时数据绘制初初始化</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00802">WorkWindow.cc:802</a></div></div>
<div class="ttc" id="aa01090_html_a0e99dde5e6e49f134243fbad6ded3a04"><div class="ttname"><a href="../../da/d73/a01090.html#a0e99dde5e6e49f134243fbad6ded3a04">&#x202A;WorkWindow::~WorkWindow</a></div><div class="ttdeci">&#x202A;~WorkWindow()</div><div class="ttdoc">&#x202A;Finalizes an instance of the WorkWindow class</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3f/a00173_source.html#l00113">WorkWindow.cc:113</a></div></div>
<div class="ttc" id="aa00910_html_ad42c260ef6204e8c8ee60e16e86bdc01"><div class="ttname"><a href="../../d4/d12/a00910.html#ad42c260ef6204e8c8ee60e16e86bdc01">&#x202A;CamProc::flg_work</a></div><div class="ttdeci">&#x202A;bool flg_work</div><div class="ttdoc">&#x202A;True to flg work</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00163">CamProc.h:163</a></div></div>
<div class="ttc" id="aa00910_html_a9fd9311632f2f18c501344c32a758f6a"><div class="ttname"><a href="../../d4/d12/a00910.html#a9fd9311632f2f18c501344c32a758f6a">&#x202A;CamProc::ser_proc_</a></div><div class="ttdeci">&#x202A;SerialProc * ser_proc_</div><div class="ttdoc">&#x202A;串口数据处理程序</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dee/a00008_source.html#l00158">CamProc.h:158</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_23fdee2f6995db16c755697cdf620cf4.html">&#x202A;Code</a></li><li class="navelem"><a class="el" href="../../dir_562250f81d431c2e4bf06f5f84066d42.html">&#x202A;src</a></li><li class="navelem"><a class="el" href="../../d7/d3f/a00173.html">&#x202A;WorkWindow.cc</a></li>
    <li class="footer">制作者
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
